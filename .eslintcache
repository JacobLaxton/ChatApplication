[{"C:\\Users\\Jacob Laxton\\Documents\\hcde 438\\ChatApp\\chatapplication\\src\\index.js":"1","C:\\Users\\Jacob Laxton\\Documents\\hcde 438\\ChatApp\\chatapplication\\src\\App.js":"2","C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\index.js":"3","C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\App.js":"4","C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\TextInput.js":"5","C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\Message.js":"6","C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\NamePicker.js":"7","C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\db.js":"8"},{"size":500,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":198,"mtime":1611603695935,"results":"11","hashOfConfig":"10"},{"size":219,"mtime":1611770654920,"results":"12","hashOfConfig":"13"},{"size":810,"mtime":1612813472008,"results":"14","hashOfConfig":"13"},{"size":852,"mtime":1612834753521,"results":"15","hashOfConfig":"13"},{"size":296,"mtime":1612813716171,"results":"16","hashOfConfig":"13"},{"size":951,"mtime":1612835059907,"results":"17","hashOfConfig":"13"},{"size":1587,"mtime":1612812634646,"results":"18","hashOfConfig":"13"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ayojac",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"1586ca7",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"25"},"C:\\Users\\Jacob Laxton\\Documents\\hcde 438\\ChatApp\\chatapplication\\src\\index.js",[],"C:\\Users\\Jacob Laxton\\Documents\\hcde 438\\ChatApp\\chatapplication\\src\\App.js",[],"C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\index.js",[],["37","38"],"C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\App.js",[],"C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\TextInput.js",[],"C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\Message.js",[],"C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\NamePicker.js",[],"C:\\Users\\Jacob Laxton\\Documents\\HCDE 438\\chatapp\\chatapplication\\src\\db.js",["39"],"import {useState, useEffect} from 'react'\r\nimport firebase from \"firebase\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/storage\"\r\n\r\nlet store\r\nconst coll = 'messages'\r\n\r\nfunction useDB(room) {\r\n    const [messages, setMessages] = useState([])\r\n\r\n    function add(m) {\r\n        setMessages(current => {\r\n            const msgs = [m, ...current]\r\n            msgs.sort((a,b)=> b.date.seconds - a.date.seconds)\r\n            return msgs\r\n        })\r\n    }\r\n    function remove(id) {\r\n        setMessages(current=> current.filter(m=> m.id!==id))\r\n    }\r\n    \r\n    useEffect(() => {\r\n        const collection = room ? \r\n            store.collection(coll).where('room','==',room) :\r\n            store.collection(coll)\r\n       \r\n        collection.onSnapshot(snap=> snap.docChanges().forEach(c=> {\r\n            const {doc, type} = c\r\n            if (type==='added') add({...doc.data(),id:doc.id})\r\n            if (type==='removed') remove(doc.id)\r\n        }))\r\n    }, [])\r\n    return messages\r\n}\r\n\r\nconst db = {}\r\ndb.send = function(msg) {\r\n    return store.collection(coll).add(msg)\r\n}\r\ndb.delete = function(id) {\r\n    return store.collection(coll).doc(id).delete()\r\n}\r\n\r\nexport { db, useDB }\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCxnHdHGicbw16DmQfEbNVy7XD6ENprVNQ\",\r\n    authDomain: \"chatter2021-2b8fb.firebaseapp.com\",\r\n    projectId: \"chatter2021-2b8fb\",\r\n    storageBucket: \"chatter2021-2b8fb.appspot.com\",\r\n    messagingSenderId: \"778098356347\",\r\n    appId: \"1:778098356347:web:c396b31d7a0a5c0c6c32de\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\nstore = firebase.firestore()",{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":33,"column":8,"nodeType":"46","endLine":33,"endColumn":10,"suggestions":"47"},"no-native-reassign",["48"],"no-negated-in-lhs",["49"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'room'. Either include it or remove the dependency array.","ArrayExpression",["50"],"no-global-assign","no-unsafe-negation",{"desc":"51","fix":"52"},"Update the dependencies array to be: [room]",{"range":"53","text":"54"},[962,964],"[room]"]